#!/bin/bash
KEY_FILE=~/.ssh/id_rsa_devops_client

echo
echo "Setting Git Global User.name & User.email"
git config --global user.name "Alistair MacDonald"
git config --global user.email "alistair+azure-noreply@dev.azure.com"
git config --global user.name
git config --global user.email

echo
echo "Removing Identities from SSH-Agent"
ssh-add -D

echo
echo "Adding Client DevOps Key to SSH-Agent"
ssh-add $KEY_FILE

echo
echo "Listing Keys in Agent"
ssh-add -L

echo
echo "Public Key Fingerprint: MD5/Hex"
ssh-keygen -l -E md5 -f $KEY_FILE.pub

echo
echo "Public Key Fingerprint: SHA256"
ssh-keygen -lf $KEY_FILE.pub -E sha256 | awk '{print $2}'
